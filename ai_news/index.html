<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>ai news &amp; links | Max Zimmer</title> <meta name="author" content="Max Zimmer"> <meta name="description" content="a collection of interesting links, essays, and AI news."> <meta name="keywords" content="Max Zimmer, mathematics, machine learning, deep learning, optimization, neural network pruning, sparsity, quantization, AI4Science, sustainability, TU Berlin, Zuse Institute Berlin"> <meta property="og:site_name" content="Max Zimmer"> <meta property="og:type" content="website"> <meta property="og:title" content="Max Zimmer | ai news &amp; links"> <meta property="og:url" content="https://maxzimmer.org/ai_news/"> <meta property="og:description" content="a collection of interesting links, essays, and AI news."> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="ai news &amp; links"> <meta name="twitter:description" content="a collection of interesting links, essays, and AI news."> <meta name="twitter:site" content="@maxzimmerberlin"> <meta name="twitter:creator" content="@maxzimmerberlin"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://maxzimmer.org/ai_news/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script defer data-domain="maxzimmer.org" src="https://plausible.iol.zib.de/js/script.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Max Zimmer</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">talks &amp; activities</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item active"> <a class="nav-link" href="/ai_news/">ai news &amp; links<span class="sr-only">(current)</span></a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <div class="post"> <div class="header-bar"> <h1>ai news &amp; links</h1> <h2>a collection of interesting links, essays, and AI news.</h2> </div> </div> <h3 class="section-header">some essays &amp; articles I find worth reading</h3> <style>.links-section{margin-bottom:1.5rem}.links-category{font-size:.85rem;font-weight:600;color:var(--global-text-color);padding-bottom:.2rem;margin-bottom:0;margin-top:.5rem}.links-list{list-style:none;padding:0;margin:0 0 1.25rem 0}.links-list li{border-bottom:1px solid var(--global-divider-color)}.links-list li:last-child{border-bottom:0}.link-entry{display:flex;align-items:baseline;padding:.35rem 0;font-size:.95rem;line-height:1.4}.link-entry-main{flex:1;min-width:0}.link-hint{color:var(--global-theme-color);font-size:.8rem;cursor:pointer;white-space:nowrap;margin-left:.5rem;opacity:.5;transition:opacity .2s ease,color .2s ease;user-select:none;background:0;border:0;padding:0;font-family:inherit;text-decoration:none}.link-hint:hover{opacity:1;text-decoration:none}.link-hint .link-arrow{display:inline-block;width:0;height:0;border-top:.25em solid transparent;border-bottom:.25em solid transparent;border-left:.35em solid currentColor;margin-right:.3rem;transition:transform .2s ease;vertical-align:middle}.link-hint.open .link-arrow{transform:rotate(90deg)}.link-desc{display:none;padding:.1rem 0 .35rem 0;font-size:.85rem;color:var(--global-text-color-light);line-height:1.45}.link-desc.open{display:block}</style> <div class="links-section"> <div class="links-category">math &amp; ml</div> <ul class="links-list"> <li> <div class="link-entry"> <span class="link-entry-main"> <a href="https://horace.io/brrr_intro.html" rel="external nofollow noopener" target="_blank">Making Deep Learning Go Brrrr From First Principles</a> — Horace He, 2022 </span> </div> </li> <li> <div class="link-entry"> <span class="link-entry-main"> <a href="https://sander.ai/2020/09/01/typicality.html" rel="external nofollow noopener" target="_blank">Musings on typicality</a> — Sander Dieleman, 2020 </span> <button class="link-hint" onclick="var d=this.closest('li').querySelector('.link-desc'); d.classList.toggle('open'); this.classList.toggle('open'); this.querySelector('.link-label').textContent=d.classList.contains('open')?'hide description':'show description';"><span class="link-arrow"></span><span class="link-label">show description</span></button> </div> <div class="link-desc">Money Quote: 'higher likelihood doesn't always mean <i>better</i> in a way that we actually care about' - probability distributions behave counterintuitively in high dimensions.</div> </li> </ul> </div> <div class="links-section"> <div class="links-category">essays</div> <ul class="links-list"> <li> <div class="link-entry"> <span class="link-entry-main"> <a href="https://gwern.net/complement" rel="external nofollow noopener" target="_blank">Laws of Tech: Commoditize Your Complement</a> — Gwern, 2018 </span> </div> </li> <li> <div class="link-entry"> <span class="link-entry-main"> <a href="https://waitbutwhy.com/2015/12/the-tail-end.html" rel="external nofollow noopener" target="_blank">The Tail End</a> — Tim Urban, 2015 </span> </div> </li> <li> <div class="link-entry"> <span class="link-entry-main"> <a href="https://www.edge.org/conversation/brain-time" rel="external nofollow noopener" target="_blank">Brain Time</a> — David M. Eagleman, 2009 </span> </div> </li> </ul> </div> <hr> <h3 class="section-header">ai news</h3> <p>Recent news and discussions about AI and deep learning, using a shared database with <a href="https://pokutta.com" rel="external nofollow noopener" target="_blank">Sebastian</a> — feel free to contribute using your GitHub account.</p> <style>.hn-controls-wrapper{padding:.5rem 0;margin-bottom:.75rem;border-bottom:1px solid var(--global-divider-color)}.hn-controls-row{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}.hn-search-input{flex:1;min-width:150px;padding:.3rem .6rem;border:1px solid var(--global-divider-color);border-radius:3px;font-size:.85rem;font-family:inherit;background-color:var(--global-bg-color);color:var(--global-text-color);transition:border-color .2s ease}.hn-search-input:focus{outline:0;border-color:var(--global-theme-color)}.hn-search-input::placeholder{color:var(--global-text-color-light);opacity:.5}.hn-sort-select{padding:.3rem 1.5rem .3rem .6rem;border:1px solid var(--global-divider-color);border-radius:3px;font-size:.85rem;font-family:inherit;background-color:var(--global-bg-color);color:var(--global-text-color);cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 12 12'%3E%3Cpath fill='%232698BA' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .4rem center;transition:border-color .2s ease}.hn-sort-select:focus{outline:0;border-color:var(--global-theme-color)}.hn-btn{padding:.3rem .7rem;border:1px solid;border-radius:3px;font-size:.8rem;font-family:inherit;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.hn-btn-primary{border-color:var(--global-theme-color);color:var(--global-theme-color);background:0}.hn-btn-primary:hover{color:var(--global-bg-color);background-color:var(--global-theme-color)}.hn-btn-success{border-color:#00ab37;color:#00ab37;background:0}.hn-btn-success:hover{color:white;background-color:#00ab37}.hn-btn-danger{border-color:#ff3636;color:#ff3636;background:0}.hn-btn-danger:hover{color:white;background-color:#ff3636}.hn-btn-secondary{border-color:var(--global-divider-color);color:var(--global-text-color-light);background:0}.hn-btn-secondary:hover{border-color:var(--global-text-color-light)}.hn-post-form{padding:.75rem 0;margin-bottom:.75rem;border-bottom:1px solid var(--global-divider-color)}.hn-post-form-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.hn-post-form-title{font-size:.9rem;font-weight:500;color:var(--global-text-color);margin:0}.hn-user-info{font-size:.8rem;color:var(--global-text-color-light);margin-right:.75rem}.hn-post-form input{width:100%;padding:.35rem .6rem;margin-bottom:.5rem;border:1px solid var(--global-divider-color);border-radius:3px;font-size:.85rem;font-family:inherit;background-color:var(--global-bg-color);color:var(--global-text-color);transition:border-color .2s ease}.hn-post-form input:focus{outline:0;border-color:var(--global-theme-color)}.hn-stories-container{display:table;width:100%;border-collapse:collapse}.hn-story{display:table-row;font-size:.95rem;line-height:1.4}.hn-story>div{display:table-cell;padding:.35rem 0;border-bottom:1px solid var(--global-divider-color);vertical-align:baseline}.hn-col-vote{white-space:nowrap;width:3rem;padding-right:.4rem!important}.hn-upvote-btn{background:0;border:0;cursor:pointer;font-size:.8rem;color:var(--global-text-color-light);padding:0;line-height:1;opacity:.5;transition:opacity .2s ease,color .2s ease}.hn-upvote-btn:hover{opacity:1;color:var(--global-theme-color)}.hn-points{font-size:.8rem;font-weight:500;color:var(--global-theme-color);margin-left:.15rem}.hn-col-title{max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:.75rem!important}.hn-col-title a{color:var(--global-text-color);text-decoration:none;transition:color .2s ease}.hn-col-title a:hover{color:var(--global-theme-color)}.hn-domain{font-size:.75rem;color:var(--global-text-color-light);opacity:.6;margin-left:.3rem}.hn-domain::before{content:"("}.hn-domain::after{content:")"}.hn-col-author{white-space:nowrap;font-size:.8rem;color:var(--global-text-color-light);padding-right:.75rem!important}.hn-col-author a{color:var(--global-text-color-light);text-decoration:none;transition:color .2s ease}.hn-col-author a:hover{color:var(--global-theme-color)}.hn-col-time{white-space:nowrap;font-size:.8rem;color:var(--global-text-color-light);opacity:.6;text-align:right}.hn-story-header>div{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.06em;color:var(--global-theme-color);border-bottom:2px solid var(--global-theme-color)!important;padding-bottom:.3rem!important;opacity:1}.hn-delete-btn{color:#ff3636;text-decoration:none;cursor:pointer;font-size:.75rem;opacity:.6;transition:opacity .2s ease;margin-left:.3rem}.hn-delete-btn:hover{opacity:1}.hn-comments-section{margin-top:.5rem;padding-top:.5rem;border-top:1px solid var(--global-divider-color)}.hn-comment{margin-bottom:.5rem;padding-left:.75rem;font-size:.85rem;color:var(--global-text-color)}.hn-comment-author{color:var(--global-text-color-light);font-weight:500;margin-right:.25rem}.hn-comment-input{width:100%;padding:.35rem .6rem;margin-bottom:.5rem;border:1px solid var(--global-divider-color);border-radius:3px;font-size:.85rem;font-family:inherit;background-color:var(--global-bg-color);color:var(--global-text-color);resize:vertical}
.hn-comment-input:focus{outline:0;border-color:var(--global-theme-color)}.hn-hide{display:none!important}.hn-empty-state{text-align:center;padding:2rem 1rem;color:var(--global-text-color-light);font-size:.9rem;opacity:.6}.hn-loading-state{text-align:center;padding:1.5rem 1rem;color:var(--global-text-color-light);font-size:.9rem;opacity:.6}[data-theme="dark"] .hn-sort-select{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 12 12'%3E%3Cpath fill='%234db8d1' d='M6 9L1 4h10z'/%3E%3C/svg%3E")}@media(max-width:768px){.hn-controls-row{flex-direction:column;align-items:stretch}.hn-search-input{min-width:100%}.hn-stories-container{display:block}.hn-story{display:flex;flex-wrap:wrap;align-items:baseline;padding:.35rem 0;border-bottom:1px solid var(--global-divider-color)}.hn-story>div{display:inline;padding:0;border-bottom:0}.hn-story-header{display:none}.hn-col-vote{width:auto;margin-right:.3rem}.hn-col-title{flex:1;max-width:none;white-space:normal;overflow:visible}.hn-col-author{width:auto;text-align:left;padding-left:2.6rem;padding-top:.15rem;font-size:.8rem}.hn-col-author::after{content:" · "}.hn-col-time{width:auto;text-align:left;padding-left:0;font-size:.8rem}.hn-post-form-header{flex-direction:column;align-items:flex-start;gap:.5rem}}</style> <div class="hn-controls-wrapper"> <div class="hn-controls-row"> <input type="text" id="hn-search-input" placeholder="Search stories..." class="hn-search-input"> <button id="hn-search-btn" class="hn-btn hn-btn-primary">Search</button> <button id="hn-clear-search-btn" class="hn-btn hn-btn-secondary">Clear</button> <button id="hn-login-btn-header" class="hn-btn hn-btn-primary hn-hide">Login</button> <button id="hn-post-toggle" class="hn-btn hn-btn-success hn-hide">+ Post</button> <select id="hn-sort-select" class="hn-sort-select"> <option value="new">New</option> <option value="hot">Hot</option> <option value="top">Top</option> </select> </div> </div> <div id="hn-post-form" class="hn-post-form hn-hide" style="display: none;"> <div class="hn-post-form-header"> <h3 class="hn-post-form-title">Post a Link</h3> <div style="display: flex; align-items: center;"> <span id="hn-user-email" class="hn-user-info"></span> <button id="hn-logout-btn" class="hn-btn hn-btn-danger">Logout</button> </div> </div> <input type="text" id="hn-title-input" placeholder="Title..." required=""> <input type="url" id="hn-url-input" placeholder="URL (e.g., https://example.com)" required=""> <button id="hn-post-btn" class="hn-btn hn-btn-success">Post</button> </div> <div id="hn-stories-container" class="hn-stories-container"></div> <script>function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function extractDomain(e){try{return new URL(e).hostname.replace(/^www\./,"")}catch(e){return""}}function getRelativeTime(e){const t=new Date-new Date(e),n=Math.floor(t/1e3),r=Math.floor(n/60),o=Math.floor(r/60),a=Math.floor(o/24),s=Math.floor(a/30),i=Math.floor(a/365);return i>0?1===i?"1 year ago":`${i} years ago`:s>0?1===s?"1 month ago":`${s} months ago`:a>0?1===a?"1 day ago":`${a} days ago`:o>0?1===o?"1 hour ago":`${o} hours ago`:r>0?1===r?"1 minute ago":`${r} minutes ago`:"just now"}function initSupabase(){function e(){clearTimeout(N),q=!1}async function t(e){if(!e||0===e.length)return{};try{const{data:t,error:n}=await v.rpc("get_github_usernames",{user_ids:e});if(n)throw n;const r={};return(t||[]).forEach(e=>{r[e.user_id]={username:e.github_username||"unknown",avatar:e.avatar_url||null}}),r}catch(e){return console.error("Error fetching GitHub usernames:",e),{}}}function n(e){C=e,e?(E&&E.classList.add("hn-hide"),I&&I.classList.remove("hn-hide"),A&&(A.textContent=`Logged in as: ${e.user.email}`)):(E&&E.classList.remove("hn-hide"),I&&(I.classList.add("hn-hide"),I.textContent="+ Post"),L&&(L.classList.add("hn-hide"),L.style.display="none"),A&&(A.textContent=""))}async function r(){try{const{data:{session:e},error:t}=await v.auth.getSession();t||n(e),await s(),w=!1}catch(e){b.innerHTML='<p style="color: red;">Failed to initialize. Please refresh the page.</p>'}}async function o(){try{const{error:e}=await v.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin+window.location.pathname}});e&&alert("Login failed: "+e.message)}catch(e){alert("Login error: "+e.message)}}async function a(){try{const{data:{session:e}}=await v.auth.getSession();if(!e)return C=null,void n(null);const{error:t}=await v.auth.signOut();t&&(t.message.includes("Auth session missing")||t.message.includes("session")?(C=null,n(null)):alert("Logout failed: "+t.message))}catch(e){e.message.includes("Auth session missing")||e.message.includes("session")?(C=null,n(null)):alert("Logout error: "+e.message)}}async function s(){try{if(!b)return;b.innerHTML='<div class="hn-loading-state">Loading stories...</div>',await i()}catch(e){b&&(b.innerHTML=`<p style="color: red; font-size: 0.7em;">Error loading stories: ${e.message}</p>`)}}async function i(){try{if(!v||!b||q)return;function n(e){return e.replace(/[\\%_'";]/g,"\\\\$&")}q=!0,clearTimeout(N),N=setTimeout(()=>{q=!1},1e4);let r=v.from("stories").select("\n           id, title, url, author_id, created_at,\n           votes(vote_type)\n         ");if(U){const m=`%${n(U)}%`;r=r.or(`title.ilike.${m},url.ilike.${m}`)}const o=new Date;let a;switch(R){case"new":a=STORIES_LIMIT,r=r.order("created_at",{ascending:!1}).limit(a);break;case"top":const g=new Date(o.getTime()-24*TOP_TIME_LIMIT_DAYS*60*60*1e3);r=r.gte("created_at",g.toISOString()).order("created_at",{ascending:!1});break;default:const p=new Date(o.getTime()-24*HOT_TIME_LIMIT_DAYS*60*60*1e3);r=r.gte("created_at",p.toISOString()).order("created_at",{ascending:!1})}const{data:s,error:i}=await r;if(i)return b.innerHTML=`<p style="color: red; font-size: 0.7em;">Error: ${i.message}</p>`,void e();let l;if("new"===R)l=(s||[]).map(e=>{const t=(e.votes||[]).reduce((e,t)=>e+(t.vote_type||0),0);return{...e,points:t}}).slice(0,STORIES_LIMIT);else{const f=(s||[]).map(e=>{const t=(e.votes||[]).reduce((e,t)=>e+(t.vote_type||0),0);return{...e,points:t}});if("top"===R)l=f.sort((e,t)=>t.points-e.points).slice(0,STORIES_LIMIT);else l=f.sort((e,t)=>{const n=Date.now(),r=(n-new Date(e.created_at).getTime())/36e5,o=(n-new Date(t.created_at).getTime())/36e5,a=e.points/Math.pow(r+2,1.5);return t.points/Math.pow(o+2,1.5)-a}).slice(0,STORIES_LIMIT)}if(!l||0===l.length)return c([]),void e();let d={};if(C){const y=l.map(e=>e.id),{data:_}=await v.from("votes").select("story_id, vote_type").in("story_id",y).eq("user_id",C.user.id);_&&_.forEach(e=>{d[e.story_id]=e})}const u=l.map(e=>({...e,userVote:d[e.id]||null}));let h={};if(SHOW_GITHUB_USERNAMES){const w=[...new Set(u.map(e=>e.author_id).filter(Boolean))];h=await t(w)}c(u.map(e=>({...e,github_username:h[e.author_id]?.username||null,github_avatar:h[e.author_id]?.avatar||null}))),e()}catch(T){b&&(b.innerHTML=`<p style="color: red; font-size: 0.7em;">Error: ${T.message}</p>`),e()}}function c(e=[]){try{if(!b)return;if(b.innerHTML="",0===e.length)return void(b.innerHTML='<div class="hn-empty-state">No stories yet\u2014be the first to post!</div>');const t=document.createElement("div");t.className="hn-story hn-story-header",t.innerHTML='\n           <div class="hn-col-vote"></div>\n           <div class="hn-col-title">Title</div>\n           <div class="hn-col-author">Posted by</div>\n           <div class="hn-col-time">When</div>\n         ',b.appendChild(t),e.forEach(e=>{const t=document.createElement("div");t.className="hn-story",t.dataset.storyId=e.id;const n=getRelativeTime(e.created_at),r=1===(e.userVote?.vote_type||0)?"\u25bc":"\u25b2",o=`+${e.points}`,a=C&&e.author_id===C.user.id?`<a href="#" class="hn-delete-btn" data-story-id="${e.id}">delete</a>`:"";let s;if(SHOW_GITHUB_USERNAMES&&e.github_username){const t=escapeHtml(e.github_username);s=`<a href="https://github.com/${t}" target="_blank" rel="noopener noreferrer">${t}</a>`}else s=e.author_id?e.author_id.slice(0,8)+"...":"unknown";const i=extractDomain(e.url);t.innerHTML=`\n            <div class="hn-col-vote">\n              <button class="hn-upvote-btn" data-story-id="${e.id}">${r}</button>\n              <span class="hn-points">${o}</span>\n            </div>\n            <div class="hn-col-title">\n              <a href="${e.url}" target="_blank" rel="noopener noreferrer">${escapeHtml(e.title)}</a>\n              ${i?`<span class="hn-domain">${escapeHtml(i)}</span>`:""}\n            </div>\n            <div class="hn-col-author">\n              ${s}${a?` ${a}`:""}\n            </div>\n            <div class="hn-col-time">\n              ${n}\n            </div>\n          `,b.appendChild(t)})}catch(e){}}async function l(e){const t=(e.currentTarget||e.target).dataset.storyId;try{if(!C)return void await o();const{data:e,error:n}=await v.from("votes").select("vote_type").eq("story_id",t).eq("user_id",C.user.id).single();if(n&&"PGRST116"===n.code){const{error:e}=await v.from("votes").upsert({story_id:t,user_id:C.user.id,vote_type:1},{onConflict:"story_id,user_id"});if(e)throw e}else{if(n)throw n;if(e&&1===e.vote_type){const{error:e}=await v.from("votes").delete().eq("story_id",t).eq("user_id",C.user.id);if(e)throw e}else{const{error:e}=await v.from("votes").upsert({story_id:t,user_id:C.user.id,vote_type:1},{onConflict:"story_id,user_id"});if(e)throw e}}await i()}catch(e){alert("Upvote failed: "+e.message)}}function d(e){e.preventDefault();const t=(e.currentTarget||e.target).dataset.storyId,n=document.querySelector(`.hn-comments-section[data-story-id="${t}"]`);n&&(n.classList.toggle("hn-hide"),n.classList.contains("hn-hide")||u(t))}async function u(e){const n=document.querySelector(`.hn-comments-list[data-story-id="${e}"]`);if(n){n.innerHTML='<p style="font-size: 0.85rem;">Loading comments...</p>';try{const{data:r,error:o}=await v.from("comments").select("id, content, author_id, created_at").eq("story_id",e).order("created_at",{ascending:!0});if(o)throw o;if(0===r.length)n.innerHTML='<p style="font-size: 0.85rem;">No comments yet.</p>';else{let e={};if(SHOW_GITHUB_USERNAMES){const n=[...new Set(r.map(e=>e.author_id).filter(Boolean))];e=await t(n)}n.innerHTML="",r.forEach(t=>{const r=new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let o;if(SHOW_GITHUB_USERNAMES&&e[t.author_id]){const n=escapeHtml(e[t.author_id].username);o=`<a href="https://github.com/${n}" target="_blank" rel="noopener noreferrer">${n}</a>`}else o=t.author_id?escapeHtml(t.author_id.slice(0,8)+"..."):"unknown";n.innerHTML+=`\n               <div class="hn-comment">\n                 <span class="hn-comment-author">${o}</span>\n                 <span>(${r})</span>\n                 <p>${escapeHtml(t.content)}</p>\n               </div>\n             `})}const a=document.querySelector(`.hn-comments-link[data-story-id="${e}"]`);a&&(a.textContent=`Comments (${r.length})`)}catch(e){n.innerHTML='<p style="font-size: 0.85rem; color: red;">Error loading comments</p>'}}}async function h(e){e.preventDefault();const t=(e.currentTarget||e.target).dataset.storyId;if(C){if(confirm("Are you sure you want to delete this story? All votes and comments will be removed."))try{const{error:e}=await v.from("votes").delete().eq("story_id",t);if(e)throw e;const{error:n}=await v.from("comments").delete().eq("story_id",t);if(n)throw n;const{error:r}=await v.from("stories").delete().eq("id",t).eq("author_id",C.user.id);if(r)throw r;const o=document.querySelector(`.hn-story[data-story-id="${t}"]`);o&&o.remove()}catch(e){alert("Failed to delete story: "+e.message)}}else alert("Please login to delete stories")}async function m(e){const t=(e.currentTarget||e.target).dataset.storyId,n=document.querySelector(`.hn-comment-input[data-story-id="${t}"]`);if(!n)return;const r=n.value.trim();if(!r)return alert("Comment cannot be empty!");try{if(!C)return void alert("Login to comment!");const{error:e}=await v.from("comments").insert({story_id:t,content:r,author_id:C.user.id});if(e)throw e;n.value="",u(t)}catch(e){alert("Post comment failed: "+e.message)}}async function g(){const e=M?.value?.trim(),t=$?.value?.trim();if(!e||!t)return alert("Title and URL are required!");try{const e=new URL(t);if(!["http:","https:"].includes(e.protocol))return alert("URL must use http:// or https://")}catch(e){return alert("Invalid URL format. Please use http:// or https://")}try{if(!C)return void alert("Login to post!");const{error:n}=await v.from("stories").insert({title:e,url:t,author_id:C.user.id});if(n)throw n;M.value="",$.value="",L&&(L.style.display="none",L.classList.add("hn-hide")),I&&(I.textContent="+ Post"),await i()}catch(e){alert("Post story failed: "+e.message)}}function p(){try{U=k?.value?.trim()||"",i()}catch(t){console.error("performSearch error:",t),e()}}function f(){try{U="",k&&(k.value=""),i()}catch(t){console.error("clearSearch error:",t),e()}}function y(){R=O?.value||"hot",i()}if(!window.supabase)return void alert("Failed to initialize. Please refresh the page.");const{createClient:_}=window.supabase,v=_(SUPABASE_URL,SUPABASE_ANON_KEY);let w=!0,T=null;const E=document.getElementById("hn-login-btn-header"),S=document.getElementById("hn-logout-btn"),L=document.getElementById("hn-post-form"),I=document.getElementById("hn-post-toggle"),b=document.getElementById("hn-stories-container"),M=document.getElementById("hn-title-input"),$=document.getElementById("hn-url-input"),H=document.getElementById("hn-post-btn"),A=document.getElementById("hn-user-email"),k=document.getElementById("hn-search-input"),B=document.getElementById("hn-search-btn"),D=document.getElementById("hn-clear-search-btn"),O=document.getElementById("hn-sort-select");let U="",R="new",C=null,P=null,q=!1,N=null;v.auth.onAuthStateChange((e,t)=>{w||(n(t),"SIGNED_IN"!==e&&"SIGNED_OUT"!==e||(clearTimeout(T),T=setTimeout(()=>s(),500)))}),r(),window.resetRefreshState=e,E&&E.addEventListener("click",o),S&&S.addEventListener("click",a),H&&H.addEventListener("click",g),I&&I.addEventListener("click",e=>{if(e.preventDefault(),L){const e="none"===L.style.display;L.style.display=e?"block":"none",L.classList.toggle("hn-hide",!e),I.textContent=e?"- Post":"+ Post"}}),b&&b.addEventListener("click",e=>{const t=e.target.closest(".hn-upvote-btn"),n=e.target.closest(".hn-comments-link"),r=e.target.closest(".hn-post-comment-btn"),o=e.target.closest(".hn-delete-btn");if(t){l({...e,target:t,currentTarget:t})}else if(n){d({...e,target:n,currentTarget:n})}else if(r){m({...e,target:r,currentTarget:r})}else if(o){h({...e,target:o,currentTarget:o,preventDefault:e.preventDefault.bind(e)})}}),B&&B.addEventListener("click",p),D&&D.addEventListener("click",f),O&&O.addEventListener("change",y),k&&(k.addEventListener("input",()=>{clearTimeout(P),P=setTimeout(()=>{p()},400)}),k.addEventListener("keypress",e=>{"Enter"===e.key&&(clearTimeout(P),p())}))}const SUPABASE_URL="https://ldpqceoagkefnncounck.supabase.co",SUPABASE_ANON_KEY="sb_publishable_-9sEz0wbkhOus1iNeRaGYg_tenlDdmC",STORIES_LIMIT=100,FALLBACK_FETCH_LIMIT=500,TOP_TIME_LIMIT_DAYS=365,HOT_TIME_LIMIT_DAYS=90,SHOW_GITHUB_USERNAMES=!0;if(window.supabase)"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initSupabase):initSupabase();else{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2",e.async=!0,e.onload=()=>{setTimeout(initSupabase,100)},e.onerror=()=>{alert("Failed to load Supabase SDK. Please refresh the page.")},document.head.appendChild(e)}</script> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright <script>document.write((new Date).getFullYear());</script> Max Zimmer · <a href="https://maxzimmer.org/legal-notice">Legal Notice</a> · <a href="https://maxzimmer.org/privacy-policy">Privacy Policy</a> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams",inlineMath:[["$","$"]]}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/publications.js"></script> </body> </html>